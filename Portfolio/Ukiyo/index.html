<!--
    Welcome to my website!
    If you're seeing this message on the dev console, 
    then you must be here to find which font I used.
    Feel free to grab that right below :D
    - Gavin_

    Hosted at: github.com/SilvRHat/gzimm4.github.io
-->
<!DOCTYPE html>
<html>
    <head>
        <title>「浮世」</title>
        <link rel="icon" href="../../favicon.ico">
        <link rel="stylesheet" href="../../style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&family=Noto+Serif+JP:wght@300;400&family=Shippori+Mincho&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- HEADER -->
        <div class="navbar">
            <a class="home" href="../..">
                <h1>Gavin Zimmerman<img class='logo' src="../../img/logo.png"></h1>
                <h2>Technical Art · Direction // Programming</h2>
            </a>
            <div class="content">
                <div class="dropdown">
                    <a href=""><h3>Tech Art</h3></a>
                    <div class="dropdown-content">
                        <a href="../do-witchcraft/">Do Witchcraft</a><br>
                        <a href="../Ukiyo/">Project::Ukiyo「浮世」</a><br>
                        <a href="../grav-flux/">Gr@v:f/UX</a><br>
                        <a href="../blackhole/">BlackH01e</a><br>
                        <a href="../SPdr/">SP//dr_wbs</a><br>
                        <a href="../Ramen/">Ⓣ光Ramen</a><br>
                    </div>
                </div>
                <div class="dropdown">
                    <a href=""><h3>Project</h3></a>
                    <div class="dropdown-content">
                        <a href="../MvRE/">Mv:RE(Rendering Engine)</a><br>
                        <a href="../noir/">Noir~ Game</a><br>
                        <a href="../Diced/">Diced</a><br>
                        <a href="../light-stealer/">Light Stealer</a><br>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="../../Profile/"><h3>Profile</h3></a>
                </div>
                <div class="dropdown">
                    <a href="../../Archive/"><h3>Archive</h3></a>
                </div>
            </div>
        </div>

        <!-- COVER -->
        <div class="cover-fit">
            <img src="cover.png">
            <div class="vert_title">
                <h2 style="color:white;">Project::Ukiyo「浮世」</h2>
            </div>
        </div>


        <!-- MAIN -->
        <div class="scroll">
            <!-- youtube -->
            <div class="content-2">
                <div class="info-box">
                    <h2>Project::Ukiyo「浮世」</h2>
                    <img><br>

                    <table style="text-align: center; margin: auto;">
                        <tr>
                            <td><strong>People:</strong></td>
                            <td><small>Gavin Zimmerman</small></td>
                        </tr>
                        <tr>
                            <td><strong>Timeline:</strong></td>
                            <td><small>Apr 2022 - May 2022</small></td>
                        </tr>
                        <tr>
                            <td><strong>Media:</strong></td>
                            <td><small>Indie Animation</small></td>
                        </tr>
                        <tr>
                            <td><strong>Tech:</strong></td>
                            <td><small>Blender 3.1, Substance Painter</small></td>
                        </tr>
                        <tr>
                            <td><strong>Link:</strong></td>
                            <td><small>N/A</small></td>
                        </tr>
                    </table>

                    <h3>Table of Contents</h3>
                    <ul>
                        <li><a href="#project_ukiyo">Project::Ukiyo「浮世」</a>
                            <ul>
                                <li><a href="#video">Video</a></li>
                                <li><a href="#concept">Concept</a></li>
                            </ul>
                        </li>
                        <li><a href="#breakdown">Breakdown</a>
                            <ul>
                                <li><a href="#scene">3D Scene</a></li>
                                <li><a href="#shaders">Materials and Shaders</a>
                                    <ul>
                                        <li><a href="#lantern">Lantern</a></li>
                                        <li><a href="#fabric">Fabric/ Ghostly Cloth</a></li>
                                        <li><a href="#smoke">Smoke</a></li>
                                    </ul>
                                </li>
                                <li><a href="#geometry">Procedural Flower</a></li>
                                <li><a href="#assets">Sourced Assets</a></li>
                            </ul>
                        </li>
                        <li><a href="#td">Technical Direction</a>
                            <ul>
                                <li><a href="#lighting">Lighting, Color, Rendering Passes</a></li>
                                <ul>
                                    <li><a href="#lighting">Passes</a></li>
                                    <li><a href="#emit">Emission</a></li>
                                    <li><a href="#color">Color Scheme</a></li>
                                    <li><a href="#transparency">Transparency</a></li>
                                    <li><a href="#light">Lighting</a></li>
                                    <li><a href="#post">Post-Process/ Compositing</a></li>
                                </ul>
                                <li><a href="#simulation">Simulation</a></li>
                                <li><a href="#camera_anim">Animation</a></li>
                                <ul>
                                    <li><a href="#cam">Camera Angles</a></li>
                                    <li><a href="#anim">Lantern Keyframe</a></li>
                                </ul>
                                <li><a href="#renderproc">Rendering Process</a></li>
                            </ul>
                        </li>
                        <li><a href="#wrap_up">Wrap Up</a></li>
                    </ul>
                </div>
                <h1 id="project_ukiyo">Project::Ukiyo「浮世」</h1>
                <div id="video" class="project-reel">
                    <iframe style="aspect-ratio: 560/315; width: 100%;" src="https://www.youtube.com/embed/qdRBfUaNCCY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <br><br>

                This project was completed as part of a final for "Early Modern Literature: The Floating World of Play and Passion", 
                a course taught by Professor Clarence Lee at University of Colorado, Boulder. <br><br>
                Adapted from Asai Ryoi's "Hand Puppets",  Project::Ukiyo「浮世」 is a modern haunting of the peony lantern.
                Here the lantern decorated with peonies represents the presence of the ghost character from the "original" piece.

                <h2 id="concept">Concept</h2>
                <img style="width:50%;" src="img/peonylanternconcept.png">
                <p class="img-id">1</p>
                <br><br>
                <ol>
                    <li>Initial concept w/ technical notes and reference considerations</li>
                </ol>
                
                <h1 id="breakdown">Breakdown</h1>
                As with all my projects I've included a detailed breakdown on the making behind this animation.
                This includes: design considerations, code, renders, reference analysis, and much more.
                
                <h2 id="scene">Scene Breakdown</h2>
                <img style="width:90%;" src="img/scene.png">
                <p class="img-id-side">1</p>
                <img style="width:41%;" src="img/lantern.png">
                <p class="img-id">2</p>
                <img style="width:48%;" src="img/cam_rig.png">
                <p class="img-id">3</p>
                <br><br>
                <ol>
                    <li>Solid view of full project</li>
                    <li>Solid view on lantern setup</li>
                    <li>Solid view on camera setup</li>
                </ol>

                <h3>Object [Parent-Child] Hierarchy</h3>
                <ul>
                    <li>Background</li>
                    <li>Smoke</li>
                    <li>Lantern Body
                        <ul>
                            <li>Flower</li>
                            <li>Fabric/ Cloth</li>
                            <li>Outer Light</li>
                            <li>Inner Light</li>
                            <li>Lantern Text</li>
                            <li>Lantern Handle</li>
                        </ul>
                    </li>
                    <li>Camera Setup (Empty)
                        <ul>
                            <li>Camera
                                <ul><li>Pink Text</li></ul>
                            </li>
                            <li>Focus Point (Empty)</li>
                        </ul>
                    </li>
                </ul>
                The object hierarchy provided is used to show how the objects' coordinate systems relate to each other, where
                child objects move relative to their parent object.
                <br><br>
                The lantern is a rigid body, so the objects parented under the lantern move with it. 
                Similarly, the 2D UI text is parented under the camera to remain in the same position between various shots.
                An empty is also added to the camera system, where a modifier is applied to constrain the camera pointing towards it. This allows the focus of the camera to be easily animated.
                <br><br>
                Finally, the smoke visual and background are stationary elements- although the background is repositioned per camera angle.

                <br>
                <h2 id="shaders">Materials and Shaders</h2>
                Shaders are small graphical programs which determine the color of each pixel individually. 
                In Blender, shaders are node-based and used extensively to create the visuals for this project.
                <h3 id="lantern">Lantern</h3>
                <img style="width:49%;" src="img/lantern-shader-mini.gif">
                <p class="img-id">1</p>
                <img style="width:49%;" src="img/texture.png">
                <p class="img-id">2</p>
                <br><br>
                <ol>
                    <li>Final lantern material</li>
                    <li>Base diffuse color; painted in Adobe Substance Painter</li>
                </ol>

                The base diffuse color for the lantern is a texture, which was determined as an important design constraint for accuracy. 
                The referenced peony lantern was hand-painted among many other paper lanterns during the Obon festival.
                <br><br>

                To give the lantern a 'ghostly' quality, the edges were made to fade in transparency. 
                This was to both accomplish a sense of existence and non-existence based on where you viewed the lantern; 
                which diverged from previous representations of depicting 'ghostly' objects as a constant semi-transparent color. 
                <br><br>
                To create the effect, a fresnel node is mapped to the object's transparency. Noise is mixed in with the initial normal to give the taper a non-uniform shape.
                <br><br>
                <img style="width:32.5%;" src="img/l1.png">
                <p class="img-id">3</p>
                <img style="width:31%;" src="img/l2.png">
                <p class="img-id">4</p>
                <img style="width:31.5%;" src="img/l3.png">
                <p class="img-id">5</p>
                <br><br>
                <img style="width:26%;" src="img/outline.png">  
                <p class="img-id">6</p>
                <img style="width:33.5%;" src="img/transparency.png"> 
                <p class="img-id">7</p>
                <img style="width:35%;" src="img/outmix.png">       
                <p class="img-id">8</p>         
                <br><br>
                <ol start="3">
                    <li>Normal w/ noise</li>
                    <li>Fresnel</li>
                    <li>Remapping</li>
                    <li>Second fresnel clamped with greater than operation</li>
                    <li>Combined fresnels</li>
                    <li>Colored</li>
                </ol>

                Another procedural effect was creating the illusion that this material is lit from the inside. 
                A highlight went a long way into achieving this effect, which used a similar technique as above.
                <br><br>
                <img style="width:58%;" src="img/glossy-lantern.gif">  
                <p class="img-id">9</p> 
                <img style="width:39%;" src="img/hl-fres.png"> 
                <p class="img-id">10</p> 
                <br><br>
                <ol start="9">
                    <li>Material w/ highlight</li>
                    <li>Highlight Blending Mask from Fresnel</li>
                </ol>
                Unfortunately the highlight also had the effect of making the material look too smooth or polished like a glossy piece of pottery.
                To mitigate, ring details were added to demonstrate that the lantern was made of paper and had an underlying wire-like structure. 
                <br><br>
                The added shadows/occlusion of the inner rings create the illusion that the material is thin and non-smooth.
                This was achieved by sampling geometric data, multiplying the Z (up) coordinate by the ring frequency and taking the sine value of that.
                <br><br>
                For the lighting to look physically right, this operation needed to be performed twice with an offset applied to the Z coordinate on one. 
                One set would act as the shadow and another would act as the highlight, which would illuminate the lantern as if the lighting was at an angle.
                <br><br>
                <img style="width:48.5%;" src="img/r1.png">
                <p class="img-id">11</p> 
                <img style="width:44%;" src="img/r2.png">
                <p class="img-id">12</p>  
                <br><br>
                <img style="width:48.5%;" src="img/r3.png"> 
                <p class="img-id">13</p> 
                <img style="width:44%;" src="img/r4.png">
                <p class="img-id">14</p>  
                <br><br>
                <img style="width:93%;" src="img/r5.png"> 
                <p class="img-id">15</p>  
                <br><br>
                <ol start="11">
                    <li>Highlight</li>
                    <li>Shadow</li>
                    <li>11 and 12 combined for full occluded light effect</li>
                    <li>Used as blending factor on original color</li>
                    <li>Node tree for fake ring lighting</li>
                </ol>



                <h3 id="fabric">Fabric/ Ghostly Cloth</h3>
                <img style="width:30%;" src="img/fabrik.png">
                <p class="img-id">1</p>  
                <br><br>
                For fabric, I wanted to create another transparency gradient that would look similar to a ghost tail.
                The fabric itself would reference qualities in the original text and attempt to accomplish a color palette synonymous with a full moon, 
                which inspired the emissive blue-purple gradient. Although the original lantern itself wasn't described this way, here it would serve as
                a symbolic symbol for the ghost character itself.
                <br><br>
                Geometry-based data could not be used for this since the material would be deformed by cloth simulation, so a UV map is used to provide height data.
                <br><br>
                <img style="width:40%;" src="img/fmap.png">
                <p class="img-id">2</p>
                <br><br>
                <ol>
                    <li>Final fabric material</li>
                    <li>UV map as height data</li>
                </ol>  

                A wave texture is then applied on top of the existing height data to create variation/angled tapering.
                <br><br>
                <img style="width:44.5%;" src="img/f1.png">
                <p class="img-id">3</p>  
                <img style="width:44%;" src="img/f2.png">
                <p class="img-id">4</p>  
                <br><br>
                <ol start="3">
                    <li>Wave texture</li>
                    <li>Height data w/ wave offset</li>
                </ol>
                The new height data is then mapped to a [0,1] range and plugged into the alpha channel for driving the material's transparent gradient.
                Finally some noise was layered in with the height data, and is then used for the color gradient.
                <br><br>
                <img style="width:30%;" src="img/f3.png">
                <p class="img-id">5</p>  
                <img style="width:30.8%;" src="img/f4.png">
                <p class="img-id">6</p>  
                <img style="width:30%;" src="img/f5.png">
                <p class="img-id">7</p>  
                <br><br>
                <ol start="5">
                    <li>Generated noise</li>
                    <li>Noise on height data</li>
                    <li>Color gradient</li>
                </ol>

                <h3 id="smoke">Smoke</h3>
                <img style="width:53%;" src="img/smoke-move.gif">
                <p class="img-id">1</p>  
                <img style="width:45%;" src="img/sgeom.png">
                <p class="img-id">2</p>  
                <br><br>
                <ol>
                    <li>Final smoke material</li>
                    <li>Geometry generated from extruding a bezier curve</li>
                </ol>
                To create the smoke the geometry will be curved to follow the path of the smoke.
                The desired coordinates for the shader also need to follow this pattern. 
                Luckily when applying a cross-section curve to a spline curve, UV coordinates are generated based on the factor of both splines.
                <br><br>
                <img style="width:31.5%;" src="img/smoke-uv.png">
                <p class="img-id">3</p>  
                <img style="width:66%;" src="img/smoke-coord.png">
                <p class="img-id">4</p>  
                <br><br>
                <ol start="3">
                    <li>UV map on geometry</li>
                    <li>Node setup for coordinate values</li>
                </ol>
                To give some characteristic to the smoke, the center follows a smooth zig-zag motion almost as if it's folding onto itself.
                Seeing this effect really increased the dynamics of the animation.
                <br><br>
                This was made possible by plugging the rolling vertical position (X + time) into a 1D noise function. 
                The amplitude of this noise is multiplied with a float curve, so that the offset isn't too large at the beginning.
                Finally the noise gets mapped to a [-1, 1] range and added onto the existing Y position.
                <br><br>
                <img style="width:45%;" src="img/sm-1d.png">
                <p class="img-id">5</p>  
                <img style="width:45%;" src="img/sm-off.png">
                <p class="img-id">6</p>  
                <br><br>
                <img style="width:90%;" src="img/sm-code.png">
                <p class="img-id">7</p>  
                <br><br>
                <ol start="5">
                    <li>1D noise for center displacement</li>
                    <li>Displace center</li>
                    <li>Node setup</li>
                </ol>
                Something that really made the smoke pop was splitting the smoke into two, leaving the center transparent.
                This nonrealistic effect matched style wise with some techniques from original Ukiyo-e artworks that made great use of shape and form over limited colors.
                <br><br>
                For making the center transparent, two centers are offset from the original for the smoke to follow along. 
                This was done by taking the sign value of the Y position and multiplying that by a float curve responsible for the desired offset. 
                The sign value here is also added onto the noise used to generate the smoke shape, so that each side had different noise values and wouldn't look symmetric.
                <br><br>
                <img style="width:44.5%;" src="img/sm-sign.png">
                <p class="img-id">8</p>  
                <img style="width:47%;" src="img/sm-2cen.png">
                <p class="img-id">9</p>  
                <br><br>
                <img style="width:92.5%;" src="img/sm-code2.png">
                <p class="img-id">10</p>  
                <br><br>
                <ol start="8">
                    <li>Y sign Value</li>
                    <li>Two centers</li>
                    <li>Node setup</li>
                </ol>

                The above setup is then used as a distance field. Noise is overlaid on this field and finally a threshold is taken to obtain the transparency mask. 
                <br><br>
                <img style="width:22.5%;" src="img/sm1.png">
                <p class="img-id">11</p>
                <img style="width:24%;" src="img/sm2.png">
                <p class="img-id">12</p>
                <img style="width:24%;" src="img/sm3.png">
                <p class="img-id">13</p>
                <img style="width:23.5%;" src="img/sm4.png">
                <p class="img-id">14</p>
                <br><br>
                <ol start="11">
                    <li>Absolute value of two center coordinates to create a distance field</li>
                    <li>Noise generated from rolling coordinates (X+T, Y, T)</li>
                    <li>Noise + distance field (11)</li>
                    <li>Check if distance is greater than some threshold</li>
                </ol>


                <h2 id="geometry">Procedural Flower</h2>
                The peony flower featured in the Peony lantern is entirely procedural here.
                This allowed for significant customization over render iterations.
                <br><br>
                <img style="width:21%;" src="img/fl1.png">
                <p class="img-id">1</p>
                <img style="width:24.5%;" src="img/fl2.png">
                <p class="img-id">2</p>
                <img style="width:21%;" src="img/fl3.png">
                <p class="img-id">3</p>
                <img style="width:27.5%;" src="img/fl4.png">
                <p class="img-id">4</p>
                <ol>
                    <li>Final flower design</li>
                    <li>100 Petals</li>
                    <li>15 Petals; Falloff exponent: 1.0</li>
                    <li>15 Petals; Falloff exponent: 0.1</li>
                </ol>
                To implement a procedural flower, I started by coding the phyllotaxis algorithm which determines the geometry for the optimal amount of sunlight in nature.
                I referred heavily to Erindale's <a target="_blank" href="https://www.youtube.com/watch?v=FELFjIw-0d8&t=130s">tutorial</a> for the concepts, however implemented the algorithm completely differently for geometry nodes.
                Ultimately this gives a spiral to seed flower petals off of.
                <br><br>
                <img style="width:65%;" src="img/phyllo.png">
                <p class="img-id">5</p>
                <img style="width:30%;" src="img/spiral.png">
                <p class="img-id">6</p>
                <br><br>
                <ol start="5">
                    <li>Phyllotaxis algorithm</li>
                    <li>Algorithm plugged into positions for cube instances</li>
                    <lI>Positions with Z (Up) offset based on factor</lI>
                </ol>
                This gives where petals will be positioned. The next step is to calculate rotation, scale, and Z (up) offset.
                <br><br>
                For the z-offset a float-curve is plugged into the factor output of the phyllotaxis setup (a [0-1] range describing distance from center).
                <br><br>
                <img style="width:95%;" src="img/z-off.png">
                <p class="img-id">7</p>
                <br><br>
                Three values are calculated for the rotation vector (roll, pitch, and yaw).
                Here the roll angle is very small since flowers don't curve that way.
                Pitch uses a similar float curve as the Z offset, and is mapped to a [10, -85] degree range.
                Finally, yaw simply uses the arctangent-squared result of the x and y positional inputs. 
                All these values are then plugged into the 'rotate euler' node to give the final rotation.
                <br><br>                
                <img style="width:45%;" src="img/rot-code.png">
                <p class="img-id">8</p>
                <img style="width:45%;" src="img/rot.png">
                <p class="img-id">9</p>
                <br><br>
                <ol start="8">
                    <li>Rotation Node Setup</li>
                    <li>Rotation Result</li>
                </ol>
                Scaling the petals uses another float curve in similar fashion to the Z offset and pitch rotation.

                <h2 id="assets">Sourced Assets</h2>
                To make this project come together, I had to source assets produced by other artists. 
                This included the background and sound effects used.
                <br><br>
                The background texture is a background cel taken from Studio Ghibli's Spirited Away and is painted by Kazuo Oga.
                I omitted the mini house statues from the original illustration and recolored some areas slightly to better fit the project's color scheme.
                <br><br>
                For sounds, I wanted traditional Japanese instruments to accompany the animation.<br>
                But I could not find anything googling with English searches. However with a localized search,
                I quickly found a beautiful sound repository at: <a href="https://otologic.jp/free/se/instruments-japanese01.html">otologic.jp</a>
                and at <a href="https://commons.nicovideo.jp/">commons.nicovideo.jp</a>.



                
                <h1 id="td">Technical Direction</h1>
                Below I've included various design choices and commentary on the project.
                This includes color theory analysis, compositing/post-processing tricks, scene composition, animation and camera work, and lighting setup.

                <h2 id="lighting">Lighting, Color, Rendering Passes</h2>
                Let's start with the rendering passes.<br><br>
                <div style="width:fit-content; margin:auto;">
                    <div class="pass">
                        <img src="img/combined.png">
                        <p>Combined/ Final</p>
                    </div>
                    <div class="pass">
                        <img src="img/difcol.png">
                        <p>Diffuse Color</p>
                    </div>
                    <div class="pass">
                        <img src="img/emit.png">
                        <p>Emission Color</p>
                    </div>
                    <div class="pass">
                        <img src="img/shadow.png">
                        <p>Shadow</p>
                    </div>
                    <div class="pass">
                        <img src="img/glosscol.png">
                        <p>Gloss Color</p>
                    </div>
                    <div class="pass">
                        <img src="img/bloom.png">
                        <p>Bloom</p>
                    </div>
                </div>
                <br>
                <h3 id="emit">Emission and Bloom</h3>
                Many objects in the scene are lit in some form with emission light [Background, Fabric, Smoke, Lantern, and textual elements].
                <br><br>
                This served two purposes: to saturate the colors and provide a bloom effect. 
                The bloom effect here was made to emphasize the object as supernatural and ghostly. 
                 
                Looking at original Ukiyo-e depictions of the lantern, the artists here chose to contrast the lantern against the background by value. 
                This illuminates the lantern and smoke like emissive objects, something the bloom effect takes to another level.<br><br>
                <img style="width:32%;" src='https://data.ukiyo-e.org/mfa/images/sc145739.jpg'>
                <p class="img-id">1</p>
                <img style="width:30%;" src='https://d7hftxdivxxvm.cloudfront.net/?resize_to=width&src=https%3A%2F%2Fartsy-media-uploads.s3.amazonaws.com%2FSpFtF5FbxLLyPQbabS4vew%252FKuniyoshi_oiwa.jpg&width=600&quality=80'>
                <p class="img-id">2</p>
                <br><br>
                <ol>
                    <li>Ukiyo-e Reference 1</li>
                    <li>Ukiyo-e Reference 2</li>
                </ol>

                <h3 id="color">Color Scheme</h3>
                The color scheme from these references also uses color as a way to contrast the peony lantern against the background. 
                This inspired the color scheme behind my own animation.<br><br>
                For the background I choose to exhibit [greens, green-yellows, blues, browns, greys] which would pair with the [red, pinks, purples, and blues] in the foreground.
                This is roughly close to complimentary colors on the color spectrum, especially with pinks on dark greens.<br>

                <h3 id="transparency">Transparency</h3>
                Most elements in the scene are also transparent [Smoke, Fabric, Lantern].
                Implementing transparency in 3D correctly is quite difficult due to blending order. 
                Thus multiple techniques for handling transparent objects have come out.
                <br><br>
                Here two different transparency implementations are used known as 'alpha hashed' and 'alpha-blending'. 
                Alpha hashed has a notable grainy result, akin to ray-tracing, and provides relatively accurate forms of transparency. 
                This is used in both the smoke and fabric to add texture to both elements.
                <br><br>
                Alpha-blending was alternatively used on the lantern. 
                This is why the lantern is not visible in the render passes, as these transparent objects are deferred after the first render. 
                Whereas alpha-hashing can provide a gradient (unlike alpha-clipping), it cannot be used jointly with emission. For example, you can see above that the smoke isn't very transparent but is emissive.
                Since the lantern uses both emission and transparency of equal proportions, alpha-blending was required here.

                <h3 id="light">Lighting</h3>
                Beyond emission, the scene contains two small light sources parented under the lantern. 
                The first is colored pink-red and the second is colored light blue. 
                Together these form the light gradient on the flower.<br><br>
                The flower uses a translucent shader which allows these lights to bleed through layers of petals.
                To prevent light being occluded by too few layers, a bias parameter was customized.
                

                <h3 id="post">Post-Process/ Compositing</h3>
                Noise is overlaid over each element in the scene and is most visible on top of the flower.
                This effect is meant to texture the entire scene similar to original Ukiyo-e paintings and provide a cohesive visual quality.
                Unlike traditional post-processing techniques, this is performed in each shader prior to lighting calculations.
                

                <h2 id="simulation">Simulation</h2>
                Cloth simulation is implemented to drive the animation of the hanging fabric.
                Here a vertex group is created for the top-most vertices which are used to pin the fabric to the lantern. 
                <br><br>
                Gravity and wind forces both make up the motion of the cloth simulation.
                The wind angle is pointed to the top-left and is perpendicular to the camera angle. 
                This is done so that the motion of the cloth is clear and visible for the viewer.
                <br><br>
                After the physics were properly tuned the simulation was baked, since the simulation is not performant in real time.
                

                <h2 id="camera_anim">Animation</h2>
                <h3 id="cam">Camera Angles</h3>
                The lantern is the subject and main character of this animation. 
                But the lantern had to also appear as something exotic, interesting, and as an extension of nature (supernatural).
                <br><br>
                Thus the camera angles were set up to "document" the lantern from a distanced and excluded perspective.
                This perspective would have been lost if the camera was animated between angles, as the camera would have become an additional character in the animation.
                This was realized after attempting to animate the camera, which I had initially wanted to use to showcase the dynamic look on the materials.
                <br><br>
                Discrete camera angles allowed for sudden transitions in the animation and offset the various visual aspects so that the animation never became boring.
                The primary visual of the first shot is the smoke coming from the lantern.
                Then in the second shot, the viewer notices the subtle details of the flower and lantern which were too small before.
                Finally in the last shot, we get a side profile of the scene which better places it in 3D and contributes to the full "documentation" of the peony lantern.
                
                
                <h3 id="anim">Lantern Keyframe</h3>
                The lantern uses a key animation on 40s to swing back and forth between roughly two angles. 
                This was to showcase its physical nature pivoting on the handle. 
                <br><br>
                Without this animation the stationary object would have been confusing. 
                The presence of some physics suggests that it is where it should be, that the floating nature is physically correct.
                Of course a Ghibli-style hand holding the handle and fading out at the wrist would have also been a nice touch for this quality, but ultimately was out of my animation skill set.
                

                <h2 id="renderproc">Rendering Process</h2>
                There were many renders- several a day for at least a week, on the order of 40 something total.<br><br>
                To expedite the rendering process, I set the frame rate to 12. 
                On the final render this could have been set higher, but I found the more choppy motion to be more representative of the theme.
                <br><br>
                A dedicated laptop was used as a sole rendering farm, with fairly modern technology averaging a frame every 4 seconds.
                <br><br>
                Oftentimes, small portions of the animation were rendered to analyze specific components. 
                For example, when testing out the smoke animation, only the first 10 seconds were rendered.
                Single frames were also rendered for analysis on color-setting, desired line-art thickness, textual placing, and many other visual elements on this project.
                

                <h1 id="wrap_up">Wrap Up / Final Notes</h1>
                I'm personally very impressed and proud of this project.
                This was my first production project.
                Here I was able to implement simulation, animation, post-processing, and lighting with my knowledge of animation production as a whole.
                <br><br>
                Waiting on renders/bakes to finish while doing other work was a great feeling. 
                The workflow can be so diverse and there is immense room for creativity.
                Applications of principles in art, tech, animation, and production all come together in these projects which is a great learning boost.
                The scope is also incredibly manageable (opposed to my previous projects attempting to make whole 3D games).
                <br><br>
                Ultimately, this stands at the top of my favorite projects and the class for which I made this stands at the top of my favorite courses.
                As something largely created out of self-discipline and learning, I'm truly very proud to say I have produced this small animation of the infamous Japanese Peony Lantern.
            </div>    
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <div class="social-links">
                <a href = "https://www.artstation.com/silvrhat/profile" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.29 68.46"><path d="M7162.88,7218.5a.87.87,0,0,0-.78,1.25c1.79,3.59,6.4,13.75,12.4,13.75H7217a.86.86,0,0,0,.74-1.31l-8-13.27a.86.86,0,0,0-.74-.42Z" transform="translate(-7162.01 -7165.04)" style="fill:#fff"/><path d="M7192.13,7166.6l37.73,65.79a.8.8,0,0,0,1.35,0c2.11-3.29,8.29-10.93,5.29-17.93-1.76-4.11-23.65-41.47-26-45-4-6-14.08-4.28-17.74-4.08A.79.79,0,0,0,7192.13,7166.6Z" transform="translate(-7162.01 -7165.04)" style="fill:#fff"/><path d="M7169,7206.5h31.91a.9.9,0,0,0,.78-1.35l-16.41-28.27a.9.9,0,0,0-1.57,0l-15.5,28.26A.9.9,0,0,0,7169,7206.5Z" transform="translate(-7162.01 -7165.04)" style="fill:#fff"/></svg></a>
                <a href = "https://github.com/SilvRHat" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59.75 66.55"><path d="M7188.5,7241.12V7232a.38.38,0,0,0-.45-.37c-2,.4-10.21,1.58-13.55-5.1-3-6-3.17-4.17-6-7a3.1,3.1,0,0,1-1-2s0-4,5,0,4,5,7,7c2.61,1.74,7.48,1.21,8.71,1a.37.37,0,0,0,.32-.3c.24-1.4,2-5.74,3-5.74s-18.31-.06-20-17a20.94,20.94,0,0,1,4.8-15.79.36.36,0,0,0,0-.44c-.64-1-2.78-4.89.16-10.77,1-2,8.78,1.89,11.88,3.92a.32.32,0,0,0,.27,0c1.38-.32,12.38-2.74,21.71,0a.37.37,0,0,0,.27,0c1.21-.65,10.79-5.73,11.87-3.93,2.65,4.41.62,9.6.11,10.76a.38.38,0,0,0,.08.42c1.1,1.08,6.51,7.11,3.81,18.82-2.45,10.6-13,13.72-18.28,14a.38.38,0,0,0-.28.6,18.57,18.57,0,0,1,2.56,4.42c.91,2.72.17,14.47,0,16.65a.37.37,0,0,1-.37.35h-21.27A.38.38,0,0,1,7188.5,7241.12Z" transform="translate(-7167.5 -7174.95)" style="fill:#fff"/></svg></a>
                <a href = "https://www.linkedin.com/in/gavinzimmerman/" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 73.69 73.49"><path d="M7203.91,7236.13H7188.7v-49h14.58v6.49l.19.06c.12-.15.27-.29.38-.45a15.34,15.34,0,0,1,11.38-7.16,22.76,22.76,0,0,1,10.2.86c4.76,1.5,7.67,4.82,9.21,9.45a34.16,34.16,0,0,1,1.56,10.66c.07,9.49.05,19,.06,28.49a5.15,5.15,0,0,1-.06.62H7221V7235c0-8.08,0-16.15,0-24.23a30,30,0,0,0-.61-5.76c-.73-3.67-3-5.52-6.74-5.72-2.85-.15-5.46.41-7.36,2.75a10,10,0,0,0-2.06,5.44c-.16,1.63-.26,3.27-.26,4.9,0,7.56,0,15.12,0,22.68Z" transform="translate(-7162.57 -7162.64)" style="fill:#fff"/><path d="M7163.86,7187.1H7179v49h-15.15Z" transform="translate(-7162.57 -7162.64)" style="fill:#fff"/><path d="M7171.43,7162.64a8.84,8.84,0,1,1-8.86,8.84A8.81,8.81,0,0,1,7171.43,7162.64Z" transform="translate(-7162.57 -7162.64)" style="fill:#fff"/></svg></a>
                <a href = "mailto: gzimm4@gmail.com" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 116 80"><polyline points="9 9 58 40 106 10" style="fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:10px"/><rect x="5" y="5" width="106" height="70" style="fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:10px"/></svg></a>
                <a href = "https://silvrship.dev/" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 124 62"><path d="M7178.92,7230.5h-9.42a31,31,0,0,1,0-62h9.82v15h-9.82a16,16,0,0,0,0,32h9.42v15Z" transform="translate(-7138.5 -7168.5)" style="fill:#fff"/><path d="M7231.5,7230.5h-13v-15h13a16,16,0,0,0,0-32h-13.4v-15h13.4a31,31,0,0,1,0,62Z" transform="translate(-7138.5 -7168.5)" style="fill:#fff"/><path d="M7231.5,7207h-65v-15h65Z" transform="translate(-7138.5 -7168.5)" style="fill:#fff"/></svg></a>
            </div>
            <div class="project-links">
                <a href="../do-witchcraft/">Do Witchcraft</a>
                <a href="../Ukiyo/">Project::Ukiyo「浮世」</a>
                <!--<a href="../Portfolio/Ramen/">Ⓣ光Ramen</a>-->
                <a href="../grav-flux/">Gr@v:f/UX</a>
                <a href="../blackhole/">BlackH01e</a>
                <a href="../SPdr/">SP//dr_wbs</a>
                <a href="../MvRE/">Mv:RE(Rendering Engine)</a>
            </div>
        </div>

    </body>
</html>